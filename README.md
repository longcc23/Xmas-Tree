# 🎄 3D 粒子圣诞树 - 双版本说明

一个基于 Three.js 的交互式 3D 粒子圣诞树，提供桌面版和移动版两个独立优化的版本。

## 📦 文件说明

```
├── index.html                  # 版本选择页面（入口）
├── xmas-tree-desktop.html      # 桌面版（高性能）
├── xmas-tree-mobile.html       # 移动版（轻量优化）
├── https_server.py             # HTTPS 服务器脚本
└── README.md                   # 本文件
```

## 🖥️ 桌面版特性

**文件**: `xmas-tree-desktop.html`

### 性能配置
- **粒子数量**: 5000 个
- **抗锯齿**: 开启
- **像素比**: 最高 2.0
- **光效强度**: 0.8（高）
- **光效半径**: 0.7（大）

### 交互方式
- 🖱️ **鼠标拖动**: 控制圣诞树旋转速度
- 🖱️ **滚轮**: 缩放视角（放大/缩小）
- ⌨️ **空格键**: 快速切换风格
- 🎥 **手势识别**: 支持 MediaPipe 手势控制（可选）

### 适用场景
- 桌面浏览器（Chrome、Firefox、Edge、Safari）
- 性能较好的笔记本电脑
- 需要高画质体验的场景

---

## 📱 移动版特性

**文件**: `xmas-tree-mobile.html`

### 性能配置
- **粒子数量**: 2000 个（减少 60%）
- **抗锯齿**: 关闭（提升性能）
- **像素比**: 固定 1.0（避免高分屏性能问题）
- **光效强度**: 0.4（中等）
- **光效半径**: 0.4（适中）

### 交互方式
- 👆 **单指滑动**: 控制圣诞树旋转
- 🤏 **双指捏合**: 缩放视角
- 👇 **点击屏幕**: 快速切换风格
- 📱 **触控优化**: 专为触摸屏设计

### 适用场景
- 手机浏览器（iOS Safari、Android Chrome）
- 平板设备
- 需要流畅运行的移动设备

---

## 🎨 三种视觉风格

两个版本都支持以下三种风格，可实时平滑切换：

1. **流金光辉** 🌟
   - 温暖的金色粒子
   - 表面密集分布
   - 偶尔点缀红色装饰

2. **冰雪梦境** ❄️
   - 冰蓝色与白色粒子
   - 冰晶质感外壳
   - 冷色调光效

3. **魔法森林** 🌲
   - 深绿色体积填充
   - 彩色装饰球点缀
   - 多彩光效混合

---

## 🚀 使用方法

### 方法一：本地 HTTP 服务器（推荐）

```bash
# 进入项目目录
cd "xmas tree"

# 启动 HTTPS 服务器（支持摄像头）
python3 https_server.py

# 访问地址
# 桌面：https://localhost:8443/
# 手机：https://[你的IP]:8443/
```

### 方法二：直接打开文件

```bash
# 桌面版
open xmas-tree-desktop.html

# 移动版（需要传输到手机）
# 使用 AirDrop 或微信发送到手机后打开
```

### 方法三：在线部署

部署到 Netlify、Vercel 等平台，自动获得 HTTPS 支持。

---

## 📊 性能对比

| 特性 | 桌面版 | 移动版 |
|------|--------|--------|
| 粒子数量 | 5000 | 2000 |
| 抗锯齿 | ✅ | ❌ |
| 像素比 | 最高 2.0 | 固定 1.0 |
| 光效强度 | 0.8 | 0.4 |
| 手势识别 | ✅ | ❌ |
| 触控优化 | ❌ | ✅ |
| 帧率目标 | 60 FPS | 30-60 FPS |
| 内存占用 | ~200MB | ~100MB |

---

## 🎮 操作指南

### 桌面版操作

```
鼠标拖动     → 控制旋转速度
滚轮滚动     → 缩放视角
空格键       → 切换风格
左上角面板   → 微调参数
```

### 移动版操作

```
单指滑动     → 控制旋转速度
双指捏合     → 缩放视角
点击屏幕     → 切换风格
左下角面板   → 微调参数（默认折叠）
```

---

## ⚠️ 注意事项

### 桌面版
- 推荐使用独立显卡的电脑
- Chrome 浏览器体验最佳
- 手势识别需要 HTTPS 和摄像头权限

### 移动版
- 首次加载可能需要 3-5 秒
- 建议关闭其他后台应用
- 低端设备可能出现卡顿（可降低粒子数量）

---

## 🛠️ 技术栈

- **Three.js r128** - 3D 渲染引擎
- **GLSL Shaders** - 自定义粒子着色器
- **UnrealBloomPass** - 后处理光效
- **GSAP 3** - 动画补间库
- **dat.GUI** - 参数调试面板
- **MediaPipe** - 手势识别（桌面版）

---

## 🎯 版本选择建议

### 选择桌面版，如果你：
- ✅ 使用桌面浏览器
- ✅ 追求最佳画质
- ✅ 设备性能较好
- ✅ 想体验手势控制

### 选择移动版，如果你：
- ✅ 使用手机或平板
- ✅ 需要流畅运行
- ✅ 设备性能一般
- ✅ 想要省电模式

---

## 📝 更新日志

### v2.0 (2024-12-24)
- 🎉 分离桌面版和移动版
- ⚡ 移动版性能优化（粒子减少 60%）
- 🎨 优化 UI 布局（避免遮挡）
- 👆 添加点击切换风格功能
- ⌨️ 桌面版添加键盘快捷键
- 📱 移动版移除手势识别（节省性能）

### v1.0 (2024-12-24)
- 🎄 初始版本发布
- 🌟 三种视觉风格
- 🎮 手势识别控制
- 💫 粒子动画系统

---

## 🎅 Merry Christmas!

享受这个交互式 3D 圣诞树，祝你节日快乐！🎄✨

---

## 📧 反馈与支持

如有问题或建议，欢迎反馈。
